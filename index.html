<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>FiyatTakip</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- LOGIN MODAL: APP DIÅINDA (boÅŸ ekranda kalmasÄ±n diye) -->
  <div id="loginModal" class="modalWrap" aria-hidden="true">
    <div class="modalBack" id="loginBackdrop"></div>
    <div class="modalCard" role="dialog" aria-modal="true" aria-label="GiriÅŸ">
      <div class="modalTop">
        <div class="modalTitle">GiriÅŸ Yap</div>
        <button id="closeLogin" class="iconBtn" type="button" aria-label="Kapat">âœ•</button>
      </div>

      <div class="authTabs">
  <button id="tabLogin" class="btnGhost sm isActive" type="button">GiriÅŸ</button>
  <button id="tabRegister" class="btnGhost sm" type="button">KayÄ±t</button>
</div>

<div class="authTools">
  <button id="btnClearCache" class="btnGhost sm" type="button">ğŸ§¹ Temizle</button>
</div>

<div id="loginPane" class="authPane">
  <label class="lbl">E-posta</label>
  <input id="loginEmail" type="email" autocomplete="email" placeholder="ornek@mail.com" />
  <label class="lbl">Åifre</label>
  <input id="loginPass" type="password" autocomplete="current-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
  <div class="row">
    <button id="btnLogin" class="btnPrimary" type="button">GiriÅŸ Yap</button>
    <button id="btnGoogleLogin" class="btnGhost" type="button">Google ile</button>
  </div>
</div>

<div id="registerPane" class="authPane hidden">
  <label class="lbl">E-posta</label>
  <input id="regEmail" type="email" autocomplete="email" placeholder="ornek@mail.com" />
  <label class="lbl">Åifre</label>
  <input id="regPass" type="password" autocomplete="new-password" placeholder="en az 6 karakter" />
  <label class="lbl">Åifre (Tekrar)</label>
  <input id="regPass2" type="password" autocomplete="new-password" placeholder="ÅŸifreyi tekrar yaz" />
  <div class="row">
    <button id="btnRegister" class="btnPrimary" type="button">KayÄ±t Ol</button>
    <button id="btnGoogleLogin2" class="btnGhost" type="button">Google ile</button>
  </div>
  <div class="mini muted">KayÄ±t olunca otomatik giriÅŸ yapÄ±lÄ±r.</div>
</div>

      </div>

      <div id="authGoogle" style="display:none">
        <button id="btnGoogle" class="btnPrimary" type="button">Google ile giriÅŸ</button>
      </div>

      <div class="miniHint">GiriÅŸ yapmadan uygulama kullanÄ±lmaz.</div>
    </div>
  </div>

  <!-- APP -->
  <div id="app" class="appShell">

    <!-- TOP HEADER -->
    <header class="topbar">
      <div class="brand">
        <div class="logoDot"></div>
        <div class="brandText">FiyatTakip</div>
      </div>
      <button id="btnBell" class="iconBtn" type="button" aria-label="Bildirim">ğŸ””</button>
    </header>

    <!-- PAGES -->
    <main class="pages">

      <!-- HOME -->
      <section id="page-home" class="page active">
        <div class="searchCard">
          <div class="searchRow">
            <span class="sIcon">ğŸ”</span>
            <input id="qNormal" placeholder="ÃœrÃ¼n ve maÄŸaza araâ€¦" />
            <button id="btnMic" class="iconBtn" type="button" aria-label="Ses">ğŸ™ï¸</button>
          </div>

          <!-- Normal / AI toggle -->
          <div class="modeToggle" id="modeToggle">
            <button class="modeBtn active" id="modeNormal" type="button">Normal</button>
            <button class="modeBtn" id="modeAI" type="button">AI</button>
          </div>
          <div class="modeHint" id="modeHint">Normal arama: sitelerde direkt arar.</div>

          <button id="btnNormal" class="btnPrimary full" type="button">Ara</button>
        </div>

        <!-- Banner -->
        <div class="banner">
          <div class="bannerLeft">ğŸŒ¸</div>
          <div class="bannerMid">
            <div class="bannerTitle">Bahar KampanyasÄ±!</div>
            <div class="bannerSub">%50 indirimi kaÃ§Ä±rmayÄ±n!</div>
          </div>
          <div class="bannerRight">ğŸ›ï¸</div>
        </div>

        <!-- Products grid placeholder -->
        <div class="gridTitle">Ã–ne Ã‡Ä±kanlar</div>
        <div id="homeGrid" class="grid">
          <div class="pCard">
            <div class="pImg">ğŸ§</div>
            <div class="pName">Kablosuz KulaklÄ±k</div>
            <div class="pPrice">â€”</div>
            <div class="pShop">FarklÄ± maÄŸazalarda</div>
          </div>
          <div class="pCard">
            <div class="pImg">ğŸ“±</div>
            <div class="pName">Telefon</div>
            <div class="pPrice">â€”</div>
            <div class="pShop">FarklÄ± maÄŸazalarda</div>
          </div>
        </div>
      </section>

      <!-- SEARCH RESULTS -->
      <section id="page-search" class="page">
        <div class="pageHead">
          <div class="pageTitle">SonuÃ§lar</div>
          <button id="btnClearSearch" class="btnGhost" type="button">Temizle</button>
        </div>
        <div id="normalList" class="list"></div>
      </section>

      <!-- GRAPH -->
      <section id="page-graph" class="page">
        <div class="pageHead">
          <div class="pageTitle">Grafik</div>
          <button id="btnGraphRefresh" class="btnGhost" type="button">Yenile</button>
        </div>
        <div class="miniHint">Favorilerinin fiyat geÃ§miÅŸi burada gÃ¶rÃ¼necek.</div>
        <div id="graphRoot" class="cardBox">Grafik alanÄ±</div>
      </section>

      <!-- FAVORITES -->
      <section id="page-favs" class="page">
        <div class="pageHead">
          <div class="pageTitle">Favoriler</div>
          <button id="btnFavRefresh" class="btnGhost" type="button">Yenile</button>
        </div>
        <div id="favList" class="list"></div>
      </section>

      <!-- SETTINGS -->
      <section id="page-settings" class="page">
        <div class="pageHead">
          <div class="pageTitle">Ayarlar</div>
        </div>

        <div class="cardBox">
          <div class="rowBetween">
            <div>
              <div class="cardTitle">AI AyarlarÄ±</div>
              <div class="miniHint">API Key / Model seÃ§imi</div>
            </div>
            <button id="btnAiSettings" class="btnPrimary" type="button">AÃ§</button>
          </div>
        </div>

        <div class="cardBox">
          <div class="rowBetween">
            <div>
              <div class="cardTitle">Hesap</div>
              <div class="miniHint">Ã‡Ä±kÄ±ÅŸ yap</div>
            </div>
            <button id="logoutBtn" class="btnGhost" type="button">Ã‡Ä±kÄ±ÅŸ</button>
          </div>
        </div>

        <div class="miniHint">Cache sorunlarÄ±nda: Site verilerini temizle / PWAâ€™yÄ± kaldÄ±r-ekle.</div>
      </section>

    </main>

    <!-- TABBAR -->
    <nav class="tabbar" aria-label="Alt MenÃ¼">
      <button class="tab active" type="button" data-page="home">
        <span class="ico">ğŸ </span><span class="lbl">Ana</span>
      </button>

      <button class="tab" type="button" data-page="graph">
        <span class="ico">ğŸ“Š</span><span class="lbl">Grafik</span>
      </button>

      <div class="tabSpacer" aria-hidden="true"></div>

      <button class="tab" type="button" data-page="favs">
        <span class="ico">â¤ï¸</span><span class="lbl">Fav</span>
      </button>

      <button class="tab" type="button" data-page="settings">
        <span class="ico">âš™ï¸</span><span class="lbl">Ayar</span>
      </button>

      <button class="fab" id="fabCamera" type="button" aria-label="AI Kamera">
        <span class="fabIco">ğŸ“·</span>
      </button>
    </nav>

  </div>

  <!-- SCRIPTS: TEK SEFER -->
  <script type="module" src="app.js"></script>

  <div id="toast" class="toast hidden"></div>

  <div id="aiModal" class="modalWrap" aria-hidden="true">
    <div class="modalBack" id="aiBackdrop"></div>
    <div class="modalCard" role="dialog" aria-modal="true" aria-label="AI AyarlarÄ±">
      <div class="modalTop">
        <div class="modalTitle">AI AyarlarÄ±</div>
        <button id="closeAi" class="iconBtn" type="button" aria-label="Kapat">âœ•</button>
      </div>

      <div class="modalBody">
        <div class="row">
          <label class="lbl">AI Durumu</label>
          <select id="aiEnabled" class="input inputDark">
            <option value="on">AÃ§Ä±k</option>
            <option value="off">KapalÄ±</option>
          </select>
        </div>

        <div class="row">
          <label class="lbl">SaÄŸlayÄ±cÄ±</label>
          <select id="aiProvider" class="input inputDark">
            <option value="gemini">Gemini</option>
            <option value="openai">OpenAI</option>
            <option value="rules">KurallÄ± (Offline)</option>
          </select>
        </div>

        <div class="row">
          <label class="lbl">API Key</label>
          <input id="aiApiKey" class="input inputDark" type="password" placeholder="anahtarÄ±nÄ±zÄ± girin" />
        </div>

        <div class="row">
          <label class="lbl">Proxy URL (opsiyonel)</label>
          <input id="aiProxyUrl" class="input inputDark" type="text" placeholder="https://xxxx.workers.dev" />
          <div class="mini muted">TarayÄ±cÄ±da CORS olursa, proxy ile Ã§Ã¶zÃ¼lÃ¼r. Proxy yoksa KurallÄ± AI devreye girer.</div>
        </div>

        <div class="row">
          <button id="btnSaveAI" class="btnPrimary" type="button">Kaydet</button>
        </div>

        <div class="mini muted">Test butonu bir sonraki adÄ±mda eklenecek.</div>
      </div>
    </div>
  </div>

</body>
</html>
