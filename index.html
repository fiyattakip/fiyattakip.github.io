<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  <title>FiyatTakip</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />

  <!-- PWA -->
  <meta name="theme-color" content="#3b5bfd" />
</head>

<body>

  <!-- HEADER -->
  <header class="topbar">
    <div class="logo">
      <img src="icon-192.png" alt="FiyatTakip" />
      <span>FiyatTakip</span>
    </div>

    <button id="logoutBtn" class="logout-btn">Çıkış</button>
  </header>

  <!-- MAIN -->
  <main class="container">

    <!-- ARAMA -->
    <section class="search-box">
      <input
        id="q"
        type="text"
        placeholder="Ürün ara (ör: Xiaomi Pad 7 256GB)"
        autocomplete="off"
      />

      <div class="search-actions">
        <button id="btnSearch" class="btn primary">Ara</button>
        <button id="btnAI" class="btn ai">AI</button>
      </div>
    </section>

    <!-- AI PANEL (ARAMANIN ALTINDA, AYNI SAYFA) -->
    <section id="aiPanel" class="ai-panel hidden">
      <h3>Yapay Zeka Arama (Gemini)</h3>

      <input
        id="aiKey"
        type="password"
        placeholder="Gemini API Key (1 kez girmen yeterli)"
      />

      <textarea
        id="aiText"
        placeholder="Ürün açıklaması (isteğe bağlı)"
      ></textarea>

      <input
        id="aiImage"
        type="file"
        accept="image/*"
      />

      <button id="btnRunAI" class="btn primary">
        AI ile Ara
      </button>

      <div id="aiStatus" class="ai-status"></div>
    </section>

    <!-- SONUÇLAR -->
    <section id="results" class="results">
      <!-- app.js buraya basar -->
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <small>© 2025 FiyatTakip</small>
  </footer>

  <!-- SCRIPT -->
  <script type="module" src="firebase.js"></script>
  <script type="module" src="ai.js"></script>
  <script type="module" src="app.js"></script>

  <!-- SERVICE WORKER -->
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./sw.js");
    }
  </script>

</body>
</html>
