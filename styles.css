:root{
  --bg1:#eef3ff;
  --bg2:#f7f9ff;
  --card:rgba(255,255,255,.86);
  --stroke:rgba(0,0,0,.08);
  --text:#0f172a;
  --muted:rgba(15,23,42,.62);
  --primary:#2f45d8;
  --primary2:#2639b0;
  --good:#cfeee0;
  --warn:#f7ebc6;
  --danger:#f7d6dc;
  --chip:#f1f4ff;
  --radius:22px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background: radial-gradient(1200px 600px at 20% 0%, var(--bg1), transparent 55%),
              radial-gradient(900px 500px at 80% 10%, #e8f0ff, transparent 60%),
              linear-gradient(180deg, var(--bg2), #ffffff);
}

.container{
  width:min(980px, 94vw);
  margin:18px auto 40px;
  display:flex;
  flex-direction:column;
  gap:18px;
}

.topbar{
  position:sticky;
  top:0;
  z-index:10;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
  padding:14px 14px calc(14px + env(safe-area-inset-top));
  background:rgba(240,245,255,.78);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--stroke);
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
}
.brand.small .brandname{ font-size:18px; }
.brand.small .brandsub{ font-size:12px; opacity:.7; }
.appicon{
  width:44px; height:44px;
  border-radius:14px;
  background:linear-gradient(180deg, #cfe3ff, #ffffff);
  border:1px solid var(--stroke);
  display:grid; place-items:center;
  font-size:22px;
}
.brandname{ font-weight:900; font-size:20px; letter-spacing:.2px; }
.brandsub{ font-size:12px; color:var(--muted); margin-top:1px; }

.topactions{
  display:flex;
  align-items:center;
  gap:10px;
}

.chip{
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.75);
  padding:10px 14px;
  border-radius:16px;
  font-weight:800;
}
.chip.danger{
  background:rgba(255,230,235,.85);
}

.card{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:var(--radius);
  box-shadow:0 12px 40px rgba(0,0,0,.06);
  padding:16px;
}

.cardhead{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
}
h1{ margin:0; font-size:42px; line-height:1; letter-spacing:-.6px; }
h2{ margin:0; font-size:34px; line-height:1; letter-spacing:-.4px; }

.pill{
  padding:10px 14px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(235,241,255,.9);
  font-weight:800;
}

.muted{ color:var(--muted); font-weight:600; }
.small{ font-size:13px; }

.sites{
  margin-top:10px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}
.sitechip{
  display:flex;
  align-items:center;
  gap:8px;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(240,245,255,.7);
  font-weight:800;
}
.sitechip input{ accent-color: var(--primary); }

.lbl{
  display:block;
  margin:10px 0 6px;
  font-weight:900;
}

.input{
  width:100%;
  padding:12px 14px;
  border-radius:16px;
  border:1px solid rgba(0,0,0,.10);
  background:rgba(255,255,255,.92);
  font-weight:700;
  outline:none;
}
.input:focus{
  border-color:rgba(47,69,216,.35);
  box-shadow:0 0 0 4px rgba(47,69,216,.10);
}

.btn{
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.85);
  border-radius:18px;
  padding:12px 14px;
  font-weight:900;
}
.btn.primary{
  background:linear-gradient(180deg, var(--primary), var(--primary2));
  color:white;
  border-color:rgba(0,0,0,.08);
}
.btn.ghost{
  background:rgba(235,241,255,.8);
}
.btn.big{
  width:100%;
  padding:14px 14px;
  border-radius:18px;
  margin-top:12px;
}

.hint{
  margin-top:10px;
  font-weight:800;
  color:rgba(15,23,42,.62);
}

.row2{
  margin-top:10px;
  display:flex;
  gap:10px;
}
.row2 .btn{ flex:1; }

.searchrows{
  margin-top:12px;
  border-radius:18px;
  border:1px dashed rgba(0,0,0,.14);
  padding:12px;
}
.searchrows.empty{
  color:rgba(15,23,42,.55);
  font-weight:800;
}

.searchrowitem{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px;
  border-radius:16px;
  border:1px solid rgba(0,0,0,.06);
  background:rgba(255,255,255,.86);
  margin-bottom:10px;
}
.searchrowitem:last-child{ margin-bottom:0; }

.sr-left{
  min-width:0;
}
.sr-site{
  font-weight:1000;
}
.sr-q{
  color:rgba(15,23,42,.65);
  font-weight:900;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.sr-actions{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.sr-actions .btn{ padding:10px 12px; border-radius:16px; }

.favhead{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
}

.favtoolbar{
  margin-top:10px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
}
.select{
  padding:12px 14px;
  border-radius:18px;
  border:1px solid rgba(0,0,0,.10);
  background:rgba(255,255,255,.92);
  font-weight:900;
}
.favlist{
  margin-top:12px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.favlist.empty{
  padding:14px;
  border-radius:18px;
  border:1px dashed rgba(0,0,0,.14);
  font-weight:900;
  color:rgba(15,23,42,.55);
}

.favcard{
  border-radius:18px;
  border:1px solid rgba(0,0,0,.08);
  background:rgba(255,255,255,.9);
  padding:12px;
}
.favtop{
  display:flex;
  justify-content:space-between;
  gap:10px;
  align-items:flex-start;
}
.favtitle{
  font-weight:1000;
  font-size:18px;
}
.favsub{
  color:rgba(15,23,42,.62);
  font-weight:900;
}
.pricepill{
  padding:10px 12px;
  border-radius:16px;
  background:rgba(235,241,255,.8);
  border:1px solid rgba(0,0,0,.08);
  font-weight:1000;
  white-space:nowrap;
}
.favactions{
  margin-top:10px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.favactions .btn{ padding:10px 12px; border-radius:16px; }
.btn.good{ background:rgba(205,244,226,.85); }
.btn.warn{ background:rgba(247,235,198,.95); }
.btn.danger{ background:rgba(247,214,220,.95); }

.graphwrap{
  margin-top:10px;
  border-radius:16px;
  border:1px dashed rgba(0,0,0,.14);
  padding:10px;
  background:rgba(250,252,255,.75);
}
.graphnote{
  color:rgba(15,23,42,.55);
  font-weight:900;
  font-size:13px;
  margin-bottom:6px;
}
canvas{ width:100%; height:120px; display:block; }

.footspace{ height:40px; }

/* Overlay / modal */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(10,15,25,.35);
  backdrop-filter: blur(10px);
  display:none;
  align-items:center;
  justify-content:center;
  padding:18px;
  z-index:50;
}
.overlay.show{ display:flex; }
.modal{
  width:min(520px, 95vw);
  border-radius:26px;
  background:rgba(255,255,255,.9);
  border:1px solid rgba(0,0,0,.10);
  box-shadow:0 18px 60px rgba(0,0,0,.18);
  padding:16px;
}
.modalhead{ display:flex; justify-content:space-between; align-items:center; }

.tabs{
  display:flex;
  gap:10px;
  margin-top:10px;
}
.tab{
  flex:1;
  padding:12px 14px;
  border-radius:18px;
  border:1px solid rgba(0,0,0,.10);
  background:rgba(235,241,255,.7);
  font-weight:1000;
}
.tab.active{
  background:rgba(255,255,255,.92);
}

.pwrow{ display:flex; gap:10px; align-items:center; }
.pweye{
  width:54px; height:46px;
  border-radius:16px;
  border:1px solid rgba(0,0,0,.10);
  background:rgba(255,255,255,.9);
  font-size:18px;
}
.msg{
  margin-top:10px;
  padding:10px 12px;
  border-radius:16px;
  border:1px solid rgba(0,0,0,.08);
  background:rgba(255,230,235,.55);
  font-weight:900;
  color:rgba(120,10,25,.9);
}
.hidden{ display:none !important; }

/* --- AI button next to Ara --- */
.search-row{
  display:flex;
  align-items:center;
  gap:12px;
  margin-top:12px;
}
.search-row input{
  flex:1;
  min-width:0;
}
.search-actions{
  display:flex;
  align-items:center;
  gap:10px;
}
.btn.ai{
  min-width:56px;
  padding:12px 14px;
  border-radius:18px;
  border:1px solid rgba(0,0,0,.08);
  background:rgba(255,255,255,.8);
  font-weight:1000;
}

/* --- AI panel under search --- */
.ai-panel{
  margin-top:12px;
  border-radius:18px;
  border:1px solid rgba(0,0,0,.08);
  background:rgba(255,255,255,.85);
  box-shadow:0 10px 30px rgba(0,0,0,.06);
  overflow:hidden;
}
.ai-panel.hidden{ display:none; }
.ai-panel-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 14px;
  border-bottom:1px solid rgba(0,0,0,.06);
}
.ai-title{ font-weight:1000; }
.ai-close{
  width:38px;
  height:38px;
  border-radius:14px;
  border:1px solid rgba(0,0,0,.08);
  background:rgba(255,255,255,.9);
  font-size:20px;
  line-height:1;
}
.ai-panel-body{ padding:12px 14px 14px; }
.ai-panel-actions{
  display:flex;
  gap:10px;
  margin-top:10px;
}
.ai-panel-actions .btn{ flex:1; }
.ai-status{
  margin-top:10px;
  font-size:13px;
  opacity:.85;
  word-break:break-word;
}

@media (max-width:520px){
  h1{ font-size:38px; }
}
@media (max-width:420px){
  h1{ font-size:34px; }
  .row2{ flex-direction:column; }
  .btn.ai{ min-width:52px; padding:12px 12px; }
  }
